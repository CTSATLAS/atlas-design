From 4597ecab57255ddc41e4fc7b433552ebdee4a0cd Mon Sep 17 00:00:00 2001
From: JosephShering <joseph@ctsfla.com>
Date: Wed, 21 May 2014 17:47:03 -0400
Subject: [PATCH] Overrided custom form of theme with element in atlas core

---
 users/child_registration.ctp | 179 +------------------------------------------
 users/login.ctp              |  51 +-----------
 users/registration.ctp       | 161 +-------------------------------------
 3 files changed, 3 insertions(+), 388 deletions(-)

diff --git a/users/child_registration.ctp b/users/child_registration.ctp
index b19cf35..4a76930 100644
--- a/users/child_registration.ctp
+++ b/users/child_registration.ctp
@@ -35,183 +35,6 @@ $(document).ready(function() {
 	<?php echo $this->Form->create('User', array('url' => '/users/registration/child')); ?>
 	<fieldset>
 		<legend>Register</legend>
-	    <?php
-	    echo $this->Form->hidden('role_id', array('value' => '1'));
-	    echo $this->Form->input('firstname', array(
-			'label' => __('Child\'s First Name', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-	    echo $this->Form->input('lastname', array(
-			'label' => __('Child\'s Last Name', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-	    echo $this->Form->input('middle_initial', array(
-			'label' => __('Child\'s Middle Initial', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-		echo $this->Form->input('surname', array(
-			'label' => __('Child\'s Surname', true),
-			'type' => 'select',
-			'empty' => 'None',
-			'options' => array('Jr' => 'Jr', 'Sr' => 'Sr', 'III' => 'III'),
-			'between' => '<br />',
-			'after' => '<br />'));
-		echo $this->Form->input('gender', array(
-			'label' => __('Child\'s Gender', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array('Male' => 'Male', 'Female' => 'Female'),
-			'between' => '<br />',
-			'after' => '<br />'));
-		if(Configure::read('Registration.ssn') == 'full') {
-		    echo $this->Form->input('ssn', array(
-				'label' => __('Child\'s Social Security Number', true),
-				'maxlength' => 9,
-				'type' => 'password',
-				'between' => '<br />'));
-		    echo $this->Form->input('ssn_confirm', array(
-				'label' => __('Please confirm child\'s Social Security Number', true),
-				'maxlength' => 9,
-				'type' => 'password',
-				'between' => '<br />',
-				'after' => '<br />'));
-		}
-		elseif(Configure::read('Registration.ssn') == 'last4') {
-			echo '<div class="input required">';
-				echo $this->Form->label(__('Child\'s Social Security Number', true));
-				echo '<br />';	
-				echo $this->Form->input('ssn_1', array(
-					'type' => 'password',
-					'div' => false,
-					'maxlength' => 3, 
-					'label' => false));
-				echo $this->Form->input('ssn_2', array(
-					'type' => 'password',
-					'maxlength' => 2,
-					'label' => false,
-					'div' => false));
-				echo $this->Form->input('ssn_3', array(
-					'type' => 'password',
-					'maxLength' => 4,
-					'label' => false,
-					'div' => false));
-				echo "<br class='clear' />";	
-				echo $this->Form->error('ssn');
-			echo '</div>';
-			echo '<div class="input required">';
-				echo $this->Form->label(__('Please confirm child\'s Social Security Number', true));
-				echo '<br />';			
-				echo $this->Form->input('ssn_1_confirm', array(
-					'type' => 'text',
-					'maxlength' => 3,
-					'label' => false,
-					'div' => false));
-				echo $this->Form->input('ssn_2_confirm', array(
-					'type' => 'text',
-					'maxlength' => 2,
-					'label' => false,
-					'div' => false));
-				echo $this->Form->input('ssn_3_confirm', array(
-					'type' => 'text',
-					'maxlength' => 4,
-					'label' => false,
-					'div' => false,
-					'after' => '<br />'));
-				echo $this->Form->error('ssn_confirm');
-			echo '</div>';					
-		}	
-	    echo $this->Form->input('dob', array(
-			'label' => __('Child\'s Birth Date <span class="small gray">(mm/dd/yyyy)</span>', true),
-			'type' => 'text',
-			'maxlength' => 10,
-			'between' => '<br />',
-			'after' => '<br />'));
-		
-		echo $this->Form->input('address_1', array(
-			'label' => __('Child\'s Address', true),
-			'between' => '<br />',
-			'after' => '<span><strong>&nbspNo P.O. Box Addresses accepted.<strong></span><br />'));
-		echo $this->Form->input('city', array(
-			'label' => __('Child\'s City', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-	
-		echo $this->Form->input('county', array(
-			'label' => __('Child\'s County', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => Configure::read('Company.counties'), 
-			'between' => '<br />',
-			'after' => '<br />'));;
-			
-		echo $this->Form->input('state', array(
-			'type' => 'text',
-			'readonly' => 'readonly',
-			'label' => __('Child\'s State', true),
-			'value' => Configure::read('Company.state'),
-			'between' => '<br />',
-			'after' => '<br />'));			
-			
-	    echo $this->Form->input('zip', array(
-			'label' => __('Child\'s Zip Code', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-
-	    echo $this->Form->input('phone', array(
-			'label' => __('Parent\'s Phone', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-	
-		echo $this->Form->input('email', array(
-			'label' => __('Parent\'s Email', true),
-			'between' => '<br />',
-			'after' => '<br />'));
-		echo $this->Form->input('email_confirm', array(
-			'label' => __('Confirm Parent\'s Email', true),
-			'between' => '<br />',
-			'after' => '<br /><p class="small">' . $html->link('Click here to get a free email address if you do not have one.', 
-			'https://www.google.com/accounts/NewAccount?service=mail&continue=
-			http://mail.google.com/mail/e-11-149ff52bbc80936376c01275ce56c7-f2297e1257c13b74d3ba16b09f1177fc98da2414&type=2',
-			array('target' => '_blank')) . '</p>'));	
-		echo $this->Form->input('language', array(
-			'label' => __('Child\'s Primary Spoken Language', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array('English' => 'English', 'Spanish' => 'Spanish', 'Other' => 'Other'), 
-			'between' => '<br />',
-			'after' => '<br />'));
-		echo $this->Form->input('ethnicity', array(
-			'label' => __('Child\'s Ethnicity', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array(
-				'Hispanic or Latino' => 'Hispanic or Latino',
-				'Not Hispanic or Latino' => 'Not Hispanic or Latino'), 
-				'between' => '<br />',
-				'after' => '<br />'));
-
-		echo $this->Form->input('race', array(
-			'label' => __('Child\'s Race', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array(
-				'American Indian or Alaksa Native' => 'American Indian or Alaksa Native',
-				'Asian' => 'Asian',
-				'Black or African American' => 'Black or African American',
-				'Hawaiian or Other Pacific Islander' => 'Hawaiian or Other Pacific Islander',
-				'White' => 'White'),
-				'between' => '<br />',
-				'after' => '<br />'));
-		echo $this->Form->input('disability', array(
-			'label' => __('Do you have a substantial disability', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array('1' => 'Yes', '0' => 'No'), 
-			'between' => '<br />',
-			'after' => '<br />'));				
-	    echo $this->Form->hidden('registration', array('value' => 'child_website'));
-	    ?>    
-	<br />
-	<?php echo $this->Form->end(array('label' => __('Submit', true))); ?>
+	    <?= $this->element('users/child_registration_form', array('login_method' => Configure::read('Login.method'))) ?>
 	</fieldset>
 </div>
diff --git a/users/login.ctp b/users/login.ctp
index 1e4d6f4..c62b3c2 100644
--- a/users/login.ctp
+++ b/users/login.ctp
@@ -25,54 +25,5 @@
 		<p><?php echo __($instructions) ?></p>
 	<?php endif ?>
 
-	<?= $this->Form->create('User',
-		array(
-			'url' => $this->here,
-			'inputDefaults' => array(
-				'format' => array('before', 'label', 'between', 'input', 'error', 'after'),
-				'div' => array('class' => 'control-group input'),
-				'label' => array('class' => 'control-label'),
-				'between' => '<div class="controls">',
-				'after' => '</div>',
-				'error' => array(
-					'attributes' => array(
-						'wrap' => 'span',
-						'class' => 'help-block'
-					)
-				)
-			)
-		))
-	?>
-
-	<fieldset>
-		<legend>Login</legend>
-		<?php
-			echo $form->input('username', array(
-				'label' =>__('Lastname', true)));
-
-			if($ssn_length != 9) {
-				echo $form->input('password', array(
-					'label' => __('The last ' . $ssn_length . ' digits of your SSN', true),
-					'maxlength' => $ssn_length
-				));
-			} else {
-				echo $form->input('password', array(
-					'label' => __('Social Security Number', true),
-					'maxlength' => $ssn_length
-				));
-			}
-
-			if(isset($this->params['pass'][0]) && $this->params['pass'][0] === 'program') {
-				echo $form->hidden('User.program_id', array('value' => $this->params['pass'][1]));
-			}
-
-	    echo $this->Form->end(array(
-			'between' => false,
-			'after' => false,
-	    	'label' => __('Login', true),
-	    	'class' => 'btn btn-primary self-sign-kiosk-button',
-	    	'data-loading-text' => 'Logging in...'
-	    ));
-?>
-	  </fieldset>
+	<?= $this->element('users/login_form', array('login_method' => Configure::read('Login.method'))) ?>
 </div>
diff --git a/users/registration.ctp b/users/registration.ctp
index 02b5fb0..25fb1b2 100644
--- a/users/registration.ctp
+++ b/users/registration.ctp
@@ -33,165 +33,6 @@ $(document).ready(function() {
 	<div class="required"><label style="display: inline;"></label> <?php __('indicates required fields.') ?></div>
 
   <div id="WebRegistrationForm">
-	<?= $this->Form->create('User',
-		array(
-			'action' => 'registration',
-			'inputDefaults' => array(
-				'format' => array('before', 'label', 'between', 'input', 'error', 'after'),
-				'div' => array('class' => 'control-group input'),
-				'label' => array('class' => 'control-label'),
-				'between' => '<div class="controls">',
-				'after' => '</div>',
-				'error' => array(
-					'attributes' => array(
-						'wrap' => 'span',
-						'class' => 'help-block'
-					)
-				)
-			)
-		))
-	?>
-	<fieldset>
-		<legend>Register</legend>
-	    <?php
-	    echo $this->Form->hidden('role_id', array('value' => '1'));
-	    echo $this->Form->input('firstname', array(
-			'label' => __('First Name', true)));
-	    echo $this->Form->input('lastname', array(
-			'label' => __('Last Name', true)));
-	    echo $this->Form->input('middle_initial', array(
-			'label' => __('Middle Initial', true)));
-		echo $this->Form->input('surname', array(
-			'label' => __('Surname', true),
-			'type' => 'select',
-			'empty' => 'None',
-			'options' => array('Jr' => 'Jr', 'Sr' => 'Sr', 'III' => 'III')));
-		echo $this->Form->input('gender', array(
-			'label' => __('Gender', true),
-			'type' => 'select',
-			'empty' => 'Select Gender',
-			'options' => array('Male' => 'Male', 'Female' => 'Female')));
-
-		if(Configure::read('Registration.ssn') == 'full') {
-		    echo $this->Form->input('ssn', array(
-				'label' => __('Social Security Number', true),
-				'type' => 'password',
-				'maxlength' => 9));
-		    echo $this->Form->input('ssn_confirm', array(
-				'label' => __('Please confirm your Social Security Number', true),
-				'type' => 'password',
-				'maxlength' => 9));
-		}
-		elseif(Configure::read('Registration.ssn') == 'last4') {
-			echo '<div class="input required">';
-				echo $this->Form->label(__('Social Security Number', true));
-				echo $this->Form->input('ssn_1', array(
-					'type' => 'text',
-					'div' => false,
-					'maxlength' => 3, 
-					'label' => false));
-				echo $this->Form->input('ssn_2', array(
-					'type' => 'text',
-					'maxlength' => 2,
-					'label' => false,
-					'div' => false));
-				echo $this->Form->input('ssn_3', array(
-					'type' => 'text',
-					'maxLength' => 4,
-					'label' => false,
-					'div' => false));
-				echo "<br class='clear' />";
-				echo '<div class="small">Please see the <a href="#">privacy act</a> statement concerning social security numbers.</div>';	
-				echo $this->Form->error('ssn');
-			echo '</div>';
-			echo '<div class="input required">';
-				echo $this->Form->label(__('Please confirm your Social Security Number', true));
-				echo $this->Form->input('ssn_1_confirm', array(
-					'type' => 'password',
-					'maxlength' => 3,
-					'label' => false,
-					'div' => false));
-				echo $this->Form->input('ssn_2_confirm', array(
-					'type' => 'password',
-					'maxlength' => 2,
-					'label' => false,
-					'div' => false));
-				echo $this->Form->input('ssn_3_confirm', array(
-					'type' => 'password',
-					'maxlength' => 4,
-					'label' => false,
-					'div' => false,
-					'after' => '<br />'));
-				echo $this->Form->error('ssn_confirm');
-			echo '</div>';					
-		}	
-	    echo $this->Form->input('dob', array(
-			'label' => __('Birth Date <span class="small gray">(mm/dd/yyyy)</span>', true),
-			'type' => 'text',
-			'maxlength' => 10));
-		echo $this->Form->input('address_1', array(
-			'label' => __('Address', true),
-			'after' => '<span class="help-block no-error">No P.O. Box Addresses accepted.</span></div>'));
-		echo $this->Form->input('city', array(
-			'label' => __('City', true)));
-		echo $this->Form->input('county', array(
-			'label' => __('County', true)));
-		echo $this->Form->input('state', array(
-			'empty' => 'Please Select',
-			'label' => __('State', true)));
-	    echo $this->Form->input('zip', array(
-			'label' => __('Zip Code', true)));
-	    echo $this->Form->input('phone', array(
-			'label' => __('Phone', true)));
-		echo $this->Form->input('email', array(
-			'label' => __('Email Address', true)));
-		echo $this->Form->input('language', array(
-			'label' => __('Primary Spoken Language', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array('English' => 'English', 'Spanish' => 'Spanish', 'Other' => 'Other')));	
-		echo $this->Form->input('ethnicity', array(
-			'label' => __('Ethnicity', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array(
-				'Hispanic or Latino' => 'Hispanic or Latino',
-				'Not Hispanic or Latino' => 'Not Hispanic or Latino',
-				'I do not wish to answer' => 'I do not wish to answer',
-				'Other' => 'Other')));
-		echo $this->Form->input('race', array(
-			'label' => __('Race', true),
-			'type' => 'select',
-			'empty' => '	Please Select',
-			'options' => array(
-				'American Indian or Alaksa Native' => 'American Indian or Alaksa Native',
-				'Asian' => 'Asian',
-				'Black or African American' => 'Black or African American',
-				'Hawaiian or Other Pacific Islander' => 'Hawaiian or Other Pacific Islander',
-				'White' => 'White',
-				'I do not wish to answer' => 'I do not wish to answer',
-				'Other' => 'Other')));
-		echo $this->Form->input('veteran', array(
-			'label' => __('Are you a US veteran', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array('1' => 'Yes', '0' => 'No')));				
-		echo $this->Form->input('disability', array(
-			'label' => __('Do you have a substantial disability', true),
-			'type' => 'select',
-			'empty' => 'Please Select',
-			'options' => array('1' => 'Yes', '0' => 'No')));				
-	    echo $this->Form->hidden('registration', array('value' => 'website'));
-	    ?>
-	    <br />
-	    <?php echo $this->Form->end(array(
-			'between' => false,
-			'after' => false,
-	    	'label' => __('Register', true),
-	    	'class' => 'btn btn-primary self-sign-kiosk-button',
-	    	'data-loading-text' => 'Registering...'
-	    )); ?>
-	</fieldset>
-
+	<?= $this->element('users/registration_form', array('login_method' => Configure::read('Login.method'))) ?>
 </div>
 
-- 
1.8.4.2

